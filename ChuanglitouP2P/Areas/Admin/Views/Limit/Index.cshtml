@using ChuanglitouP2P.Common;
@using ChuangLitouP2P.Models;
@model Dictionary<int, List<hx_AdminLimitInfo>>
@{
    ViewBag.Title = "权限列表";
    Layout = "~/Areas/Admin/Views/Shared/_BodyView.cshtml";
    var list = Model;
}

<link href="~/Areas/Admin/style/chonzhi.css" rel="stylesheet" />
<link href="~/Areas/Admin/style/jcDate.css" rel="stylesheet" />
<link rel="stylesheet" href="/Areas/Admin/styleCont/style.css" />
<link href="~/Areas/Admin/style/pagination.css" rel="stylesheet" />
<link href="~/Areas/Admin/style/liebiao.css" rel="stylesheet" />
<style type="text/css">
    tfoot tr {
        height: 35px;
        line-height: 35px;
        left: 30px;
    }
</style>
<script src="~/Areas/Admin/js/jquery-1.7.1.js"></script>
<script src="~/Areas/Admin/js/jQuery-jcDate.js"></script>
<script src="~/Areas/Admin/js/common.js"></script>
<script src="~/Scripts/layer/layer.min.js"></script>
<script src="~/Areas/Admin/js/DateJs,js.js"></script>

<h2 class="z_location"><a href="javascript:void(0)">当前位置：</a><a href="javascript:void(0)" class="z_mg5">基础设置</a>><a href="javascript:void(0)"> 菜单列表</a></h2>
<div class="z_body">
    <span class="icon-sprite icon-list"></span>
    <h3 class="listtitle">
        菜单列表
        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
        <input type="button" class="btn1" onclick="javascrpt:window.location.href='/admin/Limit/add'" value="添加菜单" />
    </h3>
    <table cellspacing="0" cellpadding="0" class="listtable">
        <tbody>
            <tr class="tz_tr">
                <th>菜单名称</th>
                <th>控制器</th>
                <th>方法名</th>
                <th>创建日期</th>
                <th>修改</th>
                <th>删除</th>
            </tr>
            @if (list != null && list.Count() > 0)
            {
                var list0 = new List<hx_AdminLimitInfo>();
                if (list.TryGetValue(0, out list0))
                {
                    foreach (var item in list0)
                    {
                        <tr>
                            <td style="text-align:left;">
                                <img src="/areas/admin/images/openfolder.gif" align="middle" style="padding-left:10px;" />
                               <span>@(item.title)</span>
                            </td>
                            <td>
                                &nbsp;
                            </td>
                            <td>
                                &nbsp;
                            </td>
                            <td>
                                @(((DateTime)item.CreatTime).ToString("yyyy-MM-dd HH:mm:ss"))
                            </td>
                            <td>
                                <a href="/admin/Limit/Editor?id=@(item.id)">
                                    <img src="/areas/admin/images/edit.gif" width="16" />
                                </a>
                            </td>
                            <td>
                                <a class="opt" title="" href="/admin/Limit/Remove?id=@(item.id)" onclick="if(confirm('确认删除导航吗？')){}else{return false;}"></a>
                            </td>
                        </tr>

                        var list1 = new List<hx_AdminLimitInfo>();
                        if (list.TryGetValue(item.id, out list1))
                        {
                            foreach (var item1 in list1)
                            {
                                <tr>
                                    <td style="text-align:left;">
                                        <img src=/areas/admin/images/file.gif align="middle" style="padding-left:30px;" />
                                        <span>@(item1.title)</span>
                                    </td>
                                    <td>
                                        @(item1.ControllerName.Replace("无需填写",""))
                                    </td>
                                    <td>
                                        @(item1.ActionName.Replace("无需填写", ""))
                                    </td>
                                    <td>
                                        @(((DateTime)item1.CreatTime).ToString("yyyy-MM-dd HH:mm:ss"))
                                    </td>
                                    <td>
                                        <a href="/admin/Limit/Editor?id=@(item1.id)">
                                            <img src="/areas/admin/images/edit.gif" width="16" />
                                        </a>
                                    </td>
                                    <td>
                                        <a class="opt" title="" href="/admin/Limit/Remove?id=@(item1.id)" onclick="if(confirm('确认删除导航吗？')){}else{return false;}"></a>
                                    </td>
                                </tr>
                                var list2 = new List<hx_AdminLimitInfo>();
                                if (list.TryGetValue(item1.id, out list2))
                                {
                                    foreach (var item2 in list2)
                                    {
                                        <tr>
                                            <td style="text-align:left;">
                                                <img src=/areas/admin/images/file.gif align="middle" style="padding-left:50px;" />
                                                <span>@(item2.title)</span>
                                            </td>
                                            <td>
                                                @(item2.ControllerName.Replace("无需填写", ""))
                                            </td>
                                            <td>
                                                @(item2.ActionName.Replace("无需填写", ""))
                                            </td>
                                            <td>
                                                @(((DateTime)item2.CreatTime).ToString("yyyy-MM-dd HH:mm:ss"))
                                            </td>
                                            <td>
                                                <a href="/admin/Limit/Editor?id=@(item2.id)">
                                                    <img src="/areas/admin/images/edit.gif" width="16" />
                                                </a>
                                            </td>
                                            <td>
                                                <a class="opt" title="" href="/admin/Limit/Remove?id=@(item2.id)" onclick="if(confirm('确认删除导航吗？')){}else{return false;}"></a>
                                            </td>
                                        </tr>
                                        var list3 = new List<hx_AdminLimitInfo>();
                                        if (list.TryGetValue(item2.id, out list3))
                                        {
                                            foreach (var item3 in list3)
                                            {
                                                <tr>
                                                    <td style="text-align:left;">
                                                        <img src=/areas/admin/images/file.gif align="middle" style="padding-left:70px;" />
                                                        <span>@(item3.title)</span>
                                                    </td>
                                                    <td>
                                                        @(item3.ControllerName.Replace("无需填写", ""))
                                                    </td>
                                                    <td>
                                                        @(item3.ActionName.Replace("无需填写", ""))
                                                    </td>
                                                    <td>
                                                        @(((DateTime)item3.CreatTime).ToString("yyyy-MM-dd HH:mm:ss"))
                                                    </td>
                                                    <td>
                                                        <a href="/admin/Limit/Editor?id=@(item3.id)">
                                                            <img src="/areas/admin/images/edit.gif" width="16" />
                                                        </a>
                                                    </td>
                                                    <td>
                                                        <a class="opt" title="" href="/admin/Limit/Remove?id=@(item3.id)" onclick="if(confirm('确认删除导航吗？')){}else{return false;}"></a>
                                                    </td>
                                                </tr>
                                            }
                                        }
                                    }
                                }
                            }
                        }

                    }
                }
            }


        </tbody>
    </table>


</div>
